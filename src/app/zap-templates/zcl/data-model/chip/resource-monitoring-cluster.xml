<?xml version="1.0"?>
<!--
Copyright (c) 2023-2024 Project CHIP Authors

Licensed under the Apache License, Version 2.0 (the "License");
you may not use this file except in compliance with the License.
You may obtain a copy of the License at

    http://www.apache.org/licenses/LICENSE-2.0

Unless required by applicable law or agreed to in writing, software
distributed under the License is distributed on an "AS IS" BASIS,
WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
See the License for the specific language governing permissions and
limitations under the License.
-->
<!--
XML generated by Alchemy; DO NOT EDIT.
Source: src/app_clusters/ResourceMonitoring.adoc
Parameters: in-progress 
Git: 0.9-fall2024-87-gcdfdb86be-dirty
-->
<configurator xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:noNamespaceSchemaLocation="../../zcl.xsd">
  <domain name="CHIP"/>
  <cluster>
    <name>HEPA Filter Monitoring</name>
    <domain name="Measurement &amp; Sensing"/>
    <description>Attributes and commands for monitoring HEPA filters in a device</description>
    <code>0x0071</code>
    <define>HEPA_FILTER_MONITORING_CLUSTER</define>
    <client tick="false" init="false">true</client>
    <server tick="false" init="false">true</server>
    <globalAttribute code="0xFFFD" side="either" value="1"/>
    <features>
      <feature bit="0" code="CON" name="Condition" summary="Supports monitoring the condition of the resource in percentage">
        <optionalConform/>
      </feature>
      <feature bit="1" code="WRN" name="Warning" summary="Supports warning indication">
        <optionalConform/>
      </feature>
      <feature bit="2" code="REP" name="ReplacementProductList" summary="Supports specifying the list of replacement products">
        <optionalConform/>
      </feature>
    </features>
    <!-- Attributes -->
    <attribute side="server" code="0x0000" define="CONDITION" type="percent" optional="true">
      <description>Condition</description>
      <mandatoryConform>
        <feature name="CON"/>
      </mandatoryConform>
    </attribute>
    <attribute side="server" code="0x0001" define="DEGRADATION_DIRECTION" type="DegradationDirectionEnum" min="0" max="1" optional="true">
      <description>DegradationDirection</description>
      <mandatoryConform>
        <feature name="CON"/>
      </mandatoryConform>
    </attribute>
    <attribute side="server" code="0x0002" define="CHANGE_INDICATION" type="ChangeIndicationEnum" min="0" max="2" default="0">
      <description>ChangeIndication</description>
      <mandatoryConform/>
    </attribute>
    <attribute side="server" code="0x0003" define="IN_PLACE_INDICATOR" type="boolean" optional="true">
      <description>InPlaceIndicator</description>
      <optionalConform/>
    </attribute>
    <attribute side="server" code="0x0004" define="LAST_CHANGED_TIME" type="epoch_s" writable="true" isNullable="true" optional="true">
      <description>LastChangedTime</description>
      <optionalConform/>
    </attribute>
    <attribute side="server" code="0x0005" define="REPLACEMENT_PRODUCT_LIST" type="array" entryType="ReplacementProductStruct" length="5" optional="true">
      <description>ReplacementProductList</description>
      <mandatoryConform>
        <feature name="REP"/>
      </mandatoryConform>
    </attribute>
    <!-- Commands -->
    <command source="client" code="0x00" name="ResetCondition" optional="true">
      <description>Upon receipt, the device SHALL reset the Condition and ChangeIndicator attributes, indicating full resource availability and readiness for use, as initially configured.</description>
      <optionalConform/>
    </command>

  </cluster>

  <cluster>
    <name>Activated Carbon Filter Monitoring</name>
    <domain name="Measurement &amp; Sensing"/>
    <description>Attributes and commands for monitoring activated carbon filters in a device</description>
    <code>0x0072</code>
    <define>ACTIVATED_CARBON_FILTER_MONITORING_CLUSTER</define>
    <client tick="false" init="false">true</client>
    <server tick="false" init="false">true</server>
    <globalAttribute code="0xFFFD" side="either" value="1"/>
    <features>
      <feature bit="0" code="CON" name="Condition" summary="Supports monitoring the condition of the resource in percentage">
        <optionalConform/>
      </feature>
      <feature bit="1" code="WRN" name="Warning" summary="Supports warning indication">
        <optionalConform/>
      </feature>
      <feature bit="2" code="REP" name="ReplacementProductList" summary="Supports specifying the list of replacement products">
        <optionalConform/>
      </feature>
    </features>
    <!-- Attributes -->
    <attribute side="server" code="0x0000" define="CONDITION" type="percent" optional="true">
      <description>Condition</description>
      <mandatoryConform>
        <feature name="CON"/>
      </mandatoryConform>
    </attribute>
    <attribute side="server" code="0x0001" define="DEGRADATION_DIRECTION" type="DegradationDirectionEnum" min="0" max="1" optional="true">
      <description>DegradationDirection</description>
      <mandatoryConform>
        <feature name="CON"/>
      </mandatoryConform>
    </attribute>
    <attribute side="server" code="0x0002" define="CHANGE_INDICATION" type="ChangeIndicationEnum" min="0" max="2" default="0">
      <description>ChangeIndication</description>
      <mandatoryConform/>
    </attribute>
    <attribute side="server" code="0x0003" define="IN_PLACE_INDICATOR" type="boolean" optional="true">
      <description>InPlaceIndicator</description>
      <optionalConform/>
    </attribute>
    <attribute side="server" code="0x0004" define="LAST_CHANGED_TIME" type="epoch_s" writable="true" isNullable="true" optional="true">
      <description>LastChangedTime</description>
      <optionalConform/>
    </attribute>
    <attribute side="server" code="0x0005" define="REPLACEMENT_PRODUCT_LIST" type="array" entryType="ReplacementProductStruct" length="5" optional="true">
      <description>ReplacementProductList</description>
      <mandatoryConform>
        <feature name="REP"/>
      </mandatoryConform>
    </attribute>
    <!-- Commands -->
    <command source="client" code="0x00" name="ResetCondition" optional="true">
      <description>Upon receipt, the device SHALL reset the Condition and ChangeIndicator attributes, indicating full resource availability and readiness for use, as initially configured.</description>
      <optionalConform/>
    </command>

  </cluster>

  <cluster>
    <domain name="Measurement &amp; Sensing"/>
    <name>Water Tank Level Monitoring</name>
    <code>0x0079</code>
    <define>WATER_TANK_LEVEL_MONITORING_CLUSTER</define>
    <description>This cluster is not meant to be used for monitoring of the system resources, such as processing, memory utilization, networking properties, etc.</description>
    <client init="false" tick="false">true</client>
    <features>
      <feature bit="0" code="CON" name="Condition" summary="Supports monitoring the condition of the resource in percentage">
        <optionalConform/>
      </feature>
      <feature bit="1" code="WRN" name="Warning" summary="Supports warning indication">
        <optionalConform/>
      </feature>
      <feature bit="2" code="REP" name="ReplacementProductList" summary="Supports specifying the list of replacement products">
        <optionalConform/>
      </feature>
    </features>
    <server init="false" tick="false">true</server>
    <globalAttribute code="0xFFFD" side="either" value="1"/>
    <attribute code="0x0000" side="server" define="CONDITION" type="percent" optional="true">
      <description>Condition</description>
      <mandatoryConform>
        <feature name="CON"/>
      </mandatoryConform>
    </attribute>
    <attribute code="0x0001" side="server" define="DEGRADATION_DIRECTION" type="DegradationDirectionEnum" min="0x00" max="0x01" optional="true">
      <description>DegradationDirection</description>
      <mandatoryConform>
        <feature name="CON"/>
      </mandatoryConform>
    </attribute>
    <attribute code="0x0002" side="server" define="CHANGE_INDICATION" type="ChangeIndicationEnum" min="0x00" max="0x02" default="0x00">
      <description>ChangeIndication</description>
      <mandatoryConform/>
    </attribute>
    <attribute code="0x0003" side="server" define="IN_PLACE_INDICATOR" type="boolean" optional="true">
      <description>InPlaceIndicator</description>
      <optionalConform/>
    </attribute>
    <attribute code="0x0004" side="server" define="LAST_CHANGED_TIME" type="epoch_s" isNullable="true" writable="true" optional="true">
      <description>LastChangedTime</description>
      <optionalConform/>
    </attribute>
    <attribute code="0x0005" side="server" define="REPLACEMENT_PRODUCT_LIST" type="array" entryType="ReplacementProductStruct" length="5" optional="true">
      <description>ReplacementProductList</description>
      <mandatoryConform>
        <feature name="REP"/>
      </mandatoryConform>
    </attribute>
    <command code="0x00" source="client" name="ResetCondition" optional="true">
      <description>Upon receipt, the device SHALL reset the Condition and ChangeIndicator attributes, indicating full resource availability and readiness for use, as initially configured.</description>
      <optionalConform/>
    </command>

  </cluster>

  <!-- Cluster Data Types -->
  <enum name="DegradationDirectionEnum" type="enum8">
    <cluster code="0x0071"/>
    <cluster code="0x0072"/>
    <cluster code="0x0079"/>
    <item value="0" name="Up"/>
    <item value="1" name="Down"/>
  </enum>

  <enum name="ChangeIndicationEnum" type="enum8">
    <cluster code="0x0071"/>
    <cluster code="0x0072"/>
    <cluster code="0x0079"/>
    <item value="0" name="OK"/>
    <item value="1" name="Warning"/>
    <item value="2" name="Critical"/>
  </enum>

  <enum name="ProductIdentifierTypeEnum" type="enum8">
    <cluster code="0x0071"/>
    <cluster code="0x0072"/>
    <cluster code="0x0079"/>
    <item value="0" name="UPC"/>
    <item value="1" name="GTIN-8"/>
    <item value="2" name="EAN"/>
    <item value="3" name="GTIN-14"/>
    <item value="4" name="OEM"/>
  </enum>

  <!-- Unfortunately due to the way these aliased clusters are generated, we need to declare separate
       ReplacementProductStructs for each cluster. This is because they refer to the ProductIdentifierTypeEnum
       which is scoped to each implementation. Duplicate this struct definition for now until we can
       create either a global enum that these can refer to, or create an alternative
       solution that can help us better address shared structs for aliased clusters. -->
  <struct name="ReplacementProductStruct">
    <cluster code="0x0071"/>
    <item fieldId="0" name="ProductIdentifierType" type="ProductIdentifierTypeEnum" min="0x00" max="0x04"/>
    <item fieldId="1" name="ProductIdentifierValue" type="char_string" length="20"/>
  </struct>

  <struct name="ReplacementProductStruct">
    <cluster code="0x0072"/>
    <item fieldId="0" name="ProductIdentifierType" type="ProductIdentifierTypeEnum" min="0x00" max="0x04"/>
    <item fieldId="1" name="ProductIdentifierValue" type="char_string" length="20"/>
  </struct>

  <struct name="ReplacementProductStruct">
    <cluster code="0x0079"/>
    <item fieldId="0" name="ProductIdentifierType" type="ProductIdentifierTypeEnum" min="0x00" max="0x04"/>
    <item fieldId="1" name="ProductIdentifierValue" type="char_string" length="20"/>
  </struct>
</configurator>
