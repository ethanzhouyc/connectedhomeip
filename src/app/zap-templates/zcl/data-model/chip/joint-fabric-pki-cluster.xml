<?xml version="1.0"?>
<!--
Copyright (c) 2024 Project CHIP Authors

Licensed under the Apache License, Version 2.0 (the "License");
you may not use this file except in compliance with the License.
You may obtain a copy of the License at

    http://www.apache.org/licenses/LICENSE-2.0

Unless required by applicable law or agreed to in writing, software
distributed under the License is distributed on an "AS IS" BASIS,
WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
See the License for the specific language governing permissions and
limitations under the License.
-->
<!--
XML generated by Alchemy; DO NOT EDIT.
Source: src/service_device_management/JointFabricPKICluster.adoc
Parameters: in-progress 
Git: 0.9-fall2024-87-gcdfdb86be-dirty
-->
<configurator xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:noNamespaceSchemaLocation="../../zcl.xsd">
  <domain name="General"/>
  <enum name="ICACSigningRequestStatusEnum" type="enum8">
    <cluster code="0x0753"/>
    <item name="OK" value="0x00"/>
    <item name="InvalidIcaCsrFormat" value="0x01"/>
    <item name="InvalidIcaCsrSignature" value="0x02"/>
    <item name="FailedDCLVendorIdValidation" value="0x03"/>
    <item name="NotAnIcac" value="0x04"/>
    <item name="BusyAnchorTransfer" value="0x05"/>
    <item name="IcaCsrSigningFailed" value="0x06"/>
    <item name="IcaCsrRequestNoUserConsent" value="0x07"/>
  </enum>

  <enum name="TransferAnchorResponseStatusEnum" type="enum8">
    <cluster code="0x0753"/>
    <item name="OK" value="0x00"/>
    <item name="TransferAnchorStatusDatastoreBusy" value="0x01"/>
    <item name="TransferAnchorStatusNoUserConsent" value="0x02"/>
  </enum>

  <cluster apiMaturity="provisional">
    <domain>General</domain>
    <name>Joint Fabric PKI</name>
    <code>0x0753</code>
    <define>JOINT_FABRIC_PKI_CLUSTER</define>
    <description>Support for Joint Fabric PKI Cluster is provisional.</description>
    <client init="false" tick="false">true</client>
    <server init="false" tick="false">true</server>
    <globalAttribute code="0xFFFD" side="either" value="1"/>
    <command code="0x00" source="client" name="ICACSRRequest" optional="false" response="ICACSRResponse">
      <description>This command SHALL be generated and executed during the Joint Commissioning Method steps and subsequently respond in the form of an ICACSRResponse command.</description>
      <access op="invoke" privilege="administer"/>
      <mandatoryConform/>
      <arg id="0" name="ICACSR" type="long_octet_string" length="400"/>
    </command>

    <command code="0x01" source="server" name="ICACSRResponse" optional="false" disableDefaultResponse="true">
      <description>This command SHALL be generated in response to the ICACSRRequest command.</description>
      <mandatoryConform/>
      <arg id="0" name="StatusCode" type="ICACSigningRequestStatusEnum" min="0x00" max="0x07"/>
      <arg id="1" name="ICAC" type="long_octet_string" optional="true" length="400"/>
    </command>

    <command code="0x02" source="client" name="TransferAnchorRequest" optional="false" response="TransferAnchorResponse">
      <description>This command SHALL be sent by a candidate Joint Fabric Anchor Administrator to the current Joint Fabric Anchor Administrator to request transfer of the Anchor Fabric.</description>
      <access op="invoke" privilege="administer"/>
      <mandatoryConform/>
    </command>

    <command code="0x03" source="server" name="TransferAnchorResponse" optional="false" disableDefaultResponse="true">
      <description>This command SHALL be generated in response to the Transfer Anchor Request command.</description>
      <mandatoryConform/>
      <arg id="0" name="StatusCode" type="TransferAnchorResponseStatusEnum" min="0x00" max="0x02"/>
    </command>

    <command code="0x04" source="client" name="TransferAnchorComplete" optional="false">
      <description>This command SHALL indicate the completion of the transfer of the Anchor Fabric to another Joint Fabric Ecosystem Administrator.</description>
      <access op="invoke" privilege="administer"/>
      <mandatoryConform/>
    </command>

  </cluster>
</configurator>
